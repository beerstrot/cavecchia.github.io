{"version":3,"file":"src_assets_js_asporto_js.js","mappings":"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","sources":["webpack://foundation-zurb-template/./src/assets/js/asporto.js"],"sourcesContent":["import { bana, mkCall, formatNum, ORIGIN } from './utils';\nimport { itemsCarrelloTable } from './htmlTemplates';\nconst { v4: uuidv4 } = require('uuid');\n\n$(document).ready(() => {\n  mkCall(\n    'POST',\n    { action: 'getItems', data: '--' },\n    res => {\n      mkInterface(res);\n    },\n    res => {\n      // TODO: add this show message modal\n      showMessage(messageError);\n    }\n  );\n});\n\nfunction mkInterface (r) {\n  const d = JSON.parse(r);\n\n  const prods = d.items.results\n    .filter(i => i.option1_value) // if has subcategory\n    .filter(i => i.channels.map(j => j.channel_id).includes('sitoWebAsporto')) // if has channel asporto\n    .filter(i => i.on_sale);  // if is on sale\n  mkMenu(prods);\n  $('#vai-checkout-large').off('click').on('click', () => {\n    if (window.localStorage.currentClient) {\n      window.location.href = ORIGIN + '/checkout.html'\n    } else {\n      $('#signup-login').foundation('open');\n    }\n  });\n  $('#vai-checkout-small').off('click').on('click', () => {\n    if (window.localStorage.currentClient) {\n      window.location.href = ORIGIN + '/checkout.html'\n    } else {\n      $('#signup-login').foundation('open');\n    }\n  });\n}\n\nfunction mkMenu (prods) {\n  /* Costruttore del menù */\n  window.allProducts = prods;\n  $('h2').parent().children('.grid-x').html('');\n  prods.forEach(p => {\n    p.quantity = 0;\n    const secDiv = $(`h2:contains(\"${p.option1_value}\")`).parent().children('.grid-x');\n    if (secDiv.length) {\n      mkCell(p, secDiv);\n      mkModal(p, secDiv);\n    } else {\n      console.log('sezione non trovata per il prodotto:', p.name);\n    }\n  });\n  $('#carrelloPieno').hide();\n  $('#carrelloPiccoloPieno').hide();\n  checkStoredOrder();\n  getClosedTimeslots();\n}\n\nfunction getImgRoot () {\n  // const imgURL = 'https://www.beerstrot.it/cavecchia.github.io/assets/img/test/test-immagine1-1-1.jpg';\n  // const imgURL = window.location.origin + '/' + 'assets/img/prod/'\n  // const pieces = imgURL.split('/');\n  // const imgRoot = pieces.slice(0, pieces.length - 1).join('/');\n\n  const imgRoot = ORIGIN + '/assets/img/prod/';\n  // const imgRoot = window.location.origin + '/' + 'assets/img/prod/';\n  return imgRoot;\n}\nconst IMG_ROOT = getImgRoot();\n\nfunction mkCellSmall (p, cell) {\n  const pid = mkPid(p);\n  const pp = mkDiv(\n    'product-page',\n    mkDiv('hide-for-medium', cell)\n  );\n  const imgName = pid + '_quadrato.jpg';\n  // const imgName = 'test-immagine1-1-1.jpg';\n  M('img', '', mkDiv('item-image', pp), {\n    src: `${IMG_ROOT}${imgName}`,\n    onerror: \"this.style.display='none'\",\n    alt: p.name\n  });\n\n  const tDiv = mkDiv('item-text', pp)\n  M(\n    'span',\n    'price',\n    M('h3', '', tDiv).html(p.name)\n  ).html(p.price1);\n  M('p', '', tDiv).html(p.description);\n  M('button', 'button small', mkDiv('item-button', pp), {\n    type: 'button',\n    'data-open': pid,\n    css: { 'margin-bottom': 0 }\n  }).html('Seleziona');\n}\n\nfunction mkCellMedium (p, cell) {\n  const pid = mkPid(p);\n  const cs = mkDiv(\n    'card-section',\n    mkDiv(\n      'card',\n      mkDiv('show-for-medium', cell)\n    )\n  );\n  // const imgName = 'test-immagine1-16-9.jpg';\n  const imgName = pid + '_rettangolare.jpg';\n  M('img', 'show-for-medium', cs, {\n    src: `${IMG_ROOT}${imgName}`,\n    onerror: \"this.style.display='none'\",\n    alt: p.name\n  });\n  M(\n    'span',\n    'price',\n    M('h3', '', cs).html(p.name)\n  ).html(p.price1);\n  M(\n    'small',\n    '',\n    M('p', '', cs).html(p.description)\n  ).html('Allergeni: ' + p.allergens.map(i => i.name).join(', '));\n  M('button', 'button small', cs, {\n    type: 'button',\n    'data-open': pid\n  }).html('Seleziona');\n}\n\nfunction cleanCurrentOrder(){\n    const productsOrdered = JSON.parse(window.localStorage.currentOrder || '[]');\n    // Ciclo inverso per evitare problemi di indicizzazione dopo la rimozione\n    for (let i = productsOrdered.length - 1; i >= 0; i--) {\n        if (!productsOrdered[i].rowUuid){\n            productsOrdered.splice(i, 1);\n        }\n    }\n    window.localStorage.currentOrder = JSON.stringify(productsOrdered);\n}\n\nfunction updateCartTotals () {\n  const productsOrdered = JSON.parse(window.localStorage.currentOrder || '[]');\n\n  let totalPrice = 0;\n  productsOrdered.forEach(product => {\n    totalPrice += product.quantity * product.price1;\n  });\n\n  if (totalPrice === 0) {\n    $('#carrelloPieno').hide();\n    $('#carrelloVuoto').show();\n    $('#carrelloPiccoloPieno').hide();\n    $('#carrelloPiccoloVuoto').show();\n    $('#vai-checkout-large, #vai-checkout-small').prop('disabled', true);\n  } else {\n    $('#carrelloPieno').show();\n    $('#carrelloVuoto').hide();\n    $('#carrelloPiccoloPieno').show();\n    $('#carrelloPiccoloVuoto').hide();\n    $('#vai-checkout-large, #vai-checkout-small').prop('disabled', false);\n  }\n  //prezzo carrello e nr prodotti carrello\n  $('.carrello-table-totale').html(` &nbsp;&nbsp;€&ensp;${formatNum(totalPrice)}`);\n\n  let totalQuantity = 0;\n  productsOrdered.forEach(product => {\n    totalQuantity += product.quantity;\n  });\n  $('.prod-quantity').html(` &nbsp;${totalQuantity}`);\n}\n\nfunction addProductIntoCurrentOrder(product_id, product_cotturaV, product_quantity, row_uuid) {\n  let product = {};\n  window.allProducts.forEach(prod => {\n    if (prod.id === product_id){\n        product = prod;\n        return;\n    }\n  });\n\n  product.cotturaV = product_cotturaV;\n  product.quantity = product_quantity;\n  product.rowUuid = row_uuid;\n\n  const existingOrder = JSON.parse(window.localStorage.currentOrder || '[]');\n\n  let newCurrentOrder = [];\n  if (existingOrder.length === 0){\n    newCurrentOrder.push(product)\n    window.localStorage.currentOrder = JSON.stringify(newCurrentOrder);\n    return;\n  }\n\n  let isNewProductPresentIntoOrder = false;\n  for (const productOrdered of existingOrder) {\n      if (productOrdered.rowUuid == product.rowUuid){\n          isNewProductPresentIntoOrder = true;\n          newCurrentOrder.push(product);\n      } else {\n        newCurrentOrder.push(productOrdered);\n      }\n  }\n\n  if (!isNewProductPresentIntoOrder){\n      newCurrentOrder.push(product);\n  }\n\n  window.localStorage.currentOrder = JSON.stringify(newCurrentOrder);\n}\n\nfunction UpdateProductIntoCurrentOrder(nextQuantity, rowUuid){\n    const productsOrdered = JSON.parse(window.localStorage.currentOrder || '[]');\n\n    // Ciclo inverso per evitare problemi di indicizzazione dopo la rimozione\n    for (let i = productsOrdered.length - 1; i >= 0; i--) {\n        const product = productsOrdered[i];\n        if (!product.rowUuid){\n            productsOrdered.splice(i, 1);\n        }\n        if (product.rowUuid === rowUuid) {\n            if (nextQuantity > 0) {\n                product.quantity = nextQuantity;\n            } else {\n                productsOrdered.splice(i, 1);\n            }\n        }\n    }\n    window.localStorage.currentOrder = JSON.stringify(productsOrdered);\n}\n\nfunction resetModalsInput(){\n    $('.modal-input-number').val(1);\n    $('.modal-input-note').val('');\n    $('.extra-space-button-modal').each(function() {\n        const pid = $(this).closest('.reveal').attr('id');\n        const p = window.allProducts.find(product => mkPid(product) === pid);\n        if (p) {\n            $(this).find('.price').html(`&nbsp;&nbsp;&nbsp;€&thinsp;${formatNum(p.price1)}`);\n        }\n    })\n}\n\nconst addToCart = (p, quantity, noteText, pid, price, cotturaV, cotturaI) => {\n    p.quantity = quantity;\n    p.noteText = noteText.val();\n    p.rowUuid  = uuidv4();\n\n    if (quantity) {\n        p.cotturaV = cotturaV;\n        p.cotturaI = cotturaI;\n        p.cotturaId = $('#' + pid + 'cottura_').data().variation_id;\n        const template = itemsCarrelloTable(p.name, p.noteText, p.cotturaV, p.quantity, price, p.id, p.rowUuid);\n        $('.itens-carrello-table').append(template);\n    }\n    addProductIntoCurrentOrder(p.id, p.cotturaV, p.quantity, p.rowUuid);\n    updateCartTotals();\n    resetModalsInput();\n\n    $(`.input-number-increment-${p.rowUuid}`).click(function() {\n      const rowUuid = $(this).data('row-uuid');\n      const $input = $(`.input-number-${rowUuid}`);\n      const currentQuantity = parseInt($input.val(), 10);\n\n      $input.val(currentQuantity + 1);\n      let nextQuantity = currentQuantity + 1;\n      $(`.prezzo-item-${rowUuid}`).html(formatNum((nextQuantity) * p.price1));\n\n      UpdateProductIntoCurrentOrder(nextQuantity, rowUuid);\n      updateCartTotals();\n    });\n\n    $(`.input-number-decrement-${p.rowUuid}`).click(function() {\n      const rowUuid = $(this).data('row-uuid');\n      const $input = $(`.input-number-${rowUuid}`);\n      const currentQuantity = parseInt($input.val(), 10);\n\n      let nextQuantity = currentQuantity - 1;\n      if (nextQuantity < 0) {\n        nextQuantity = 0;\n      }\n      $input.val(nextQuantity);\n\n      $(`.prezzo-item-${rowUuid}`).html(formatNum(nextQuantity * p.price1));\n\n      if (nextQuantity === 0) {\n          $(`.carrello-row-${rowUuid}`).remove();\n      }\n\n      UpdateProductIntoCurrentOrder(nextQuantity, rowUuid);\n      updateCartTotals();\n    })\n};\n\n\nfunction mkModal (p, secDiv) {\n  const pid = mkPid(p);\n  // const imgName = 'test-immagine1-16-9.jpg';\n  const imgName = pid + '_rettangolare.jpg';\n  const modal = M('div', 'reveal reveal-ecommerce', secDiv, {\n    id: pid\n  });\n\n  const closeBtn = M('button', 'close-button close-button-sticky', modal, {\n    type: 'button',\n    'aria-label': 'Close reveal',\n  }).append(\n    M('span', '', null, { 'aria-hidden': true }).html('&times;')\n  ).on('click', () => {\n    modal.foundation('close');\n  });\n\n  M('img', '', modal, {\n    src: `${IMG_ROOT}${imgName}`,\n    style:'margin-top:-3rem',\n    onerror: \"this.style.display='none'\",\n    alt: p.name\n  });\n  M('h1', 'h1-modal', M('header', 'main-header', modal)).html(p.name);\n\n  const modalDiv = mkDiv('main-content', modal);\n  M('p', 'allergeni' , M('small', '', modalDiv).html(p.description)).html('Allergeni: ' + p.allergens.map(i => i.name).join(', '), {\n    maxlength: '200', css: { 'min-height': '0.5rem' }\n  });\n  const noteText = M('textarea', 'modal-input-note', M('label', '', modalDiv, { id: pid + '_note' }).html(`<strong>Note</strong>`), {\n      maxlength: '200',  placeholder: '...', css: { 'min-height': '0.5rem'}\n  });\n  if (!hasNote(p)) {\n    $('#' + pid + '_note').hide();\n  }\n\n  const cottura = M('select', '', M('label', '', modalDiv, { id: pid + '_cottura' }).html(`<strong>Cottura</strong>`), { id: pid + 'cottura_', 'data-variation_id': getCotturaId(p) })\n  const v = hasCottura(p);\n  v.forEach(vv => {\n    M('option', '', cottura, { value: vv.id }).html(vv.value);\n  });\n  if (v.length === 0) {\n    $('#' + pid + '_cottura').hide();\n  }\n  const footer = M('footer', 'main-footer-carrello-small border-shadow', modal);\n  const footerDiv = mkDiv('input-group input-number-group', footer);\n  let quantity = 1;\n  let price = quantity * p.price1;\n  M('i', 'las la-minus-square la-2x',\n    M('span', 'input-number-decrement',\n      mkDiv('input-group-button group-margin', footerDiv)\n    ).click(function() {\n      var $input = $(this).parents('.input-number-group').find('.input-number');\n      var val = parseInt($input.val(), 10);\n      quantity = val - 1;\n      if (quantity < 0) {\n        quantity = 0;\n      }\n      $input.val(quantity);\n      placePrice(quantity);\n    })\n  );\n  M('input', 'input-number group-margin modal-input-number', footerDiv, {\n    css: { width: '3rem' },  type: 'button', value: '1', min: '0', max: '20'\n  });\n  M('i', 'las la-plus-square la-2x',\n    M('span', 'input-number-increment',\n      mkDiv('input-group-button group-margin', footerDiv)\n    ).click(function() {\n      var $input = $(this).parents('.input-number-group').find('.input-number');\n      var val = parseInt($input.val(), 10);\n      quantity = val + 1;\n      $input.val(quantity);\n      placePrice(quantity);\n    })\n  );\n\n  const btnPrice = M('span', 'price',\n    M('button', 'button expanded-with-padding extra-space-button-modal', footer, { type: 'button' }).html('Aggiungi al carrello')\n      .on('click', () => {\n          const selectedQuantity = parseInt($(`#${pid} .modal-input-number`).val(), 10);\n          const currentPrice = formatNum(p.price1 * selectedQuantity);\n          const cotturaV = $('#' + pid + 'cottura_ option:selected').text();\n          const cotturaI = $('#' + pid + 'cottura_ option:selected').val();\n          const cottura_id = $('#' + pid + 'cottura_').data().variation_id\n\n          addToCart(p, selectedQuantity, noteText, pid, currentPrice, cotturaV, cotturaI);\n          closeBtn.click();\n      })\n      //modal price\n  ).html(` &nbsp;&nbsp;&nbsp;€&thinsp;${price}`);\n\n  function placePrice (quantity) {\n    price = formatNum(p.price1 * quantity);\n    btnPrice.html(` &nbsp;&nbsp;&nbsp;€&thinsp;${price}`)\n  }\n\n  new Foundation.Reveal(modal.foundation());\n}\n\nfunction mkCell (p, secDiv) {\n  const cell = mkDiv('cell cellmann', secDiv);\n  mkCellSmall(p, cell);\n  mkCellMedium(p, cell);\n}\n\nfunction mkDiv (class_, parent_) {\n  return M('div', class_, parent_);\n}\n\nfunction M (el = 'div', class_ = '', parent_ = null, attrs = {}) {\n  const e = $(`<${el}/>`, { class: class_ || '', ...(attrs || {}) })\n  if (parent_) {\n    e.appendTo(parent_);\n  }\n  return e\n}\n\nfunction mkPid (p) {\n  return p.name.replaceAll(' ', '').replaceAll(\"'\", '');\n}\n\nfunction hasNote(p) {\n  return p.variations.map(p => p.name).includes('note');\n}\n\nfunction hasCottura(p) {\n  const cot = p.variations.filter(i => i.name === 'Cottura')[0];\n  if (cot) {\n    return cot.variation_values;\n  }\n  return [];\n}\n\nfunction checkStoredOrder () {\n  cleanCurrentOrder();\n  const storage = window.localStorage.currentOrder;\n  if (!storage) return;\n  const prods = JSON.parse(storage);\n  if (prods) {\n    prods.forEach(p => {\n      const prod = window.allProducts.filter(pp => pp.id === p.id);\n      if (p.rowUuid){\n        if (prod.length) {\n          const p_ = prod[0];\n          p_.quantity = p.quantity;\n          p_.noteText = p.noteText;\n          p_.rowUuid = p.rowUuid;\n          p_.cotturaV = p.cotturaV || '';\n          const price = p.quantity * p.price1;\n          const pid = mkPid(p);\n          const template = itemsCarrelloTable(p.name, p.noteText, p.cotturaV, p.quantity, formatNum(price), p.id, p_.rowUuid);\n          $('.itens-carrello-table').append(template);\n//          $('#carrello-small-items').append(template);\n\n          $(`.input-number-increment-${p_.rowUuid}`).click(function() {\n            const rowUuid = $(this).data('row-uuid');\n            const $input = $(`.input-number-${rowUuid}`);\n            const currentQuantity = parseInt($input.val(), 10);\n\n            $input.val(currentQuantity + 1);\n            let nextQuantity = currentQuantity + 1;\n            p_.quantity = nextQuantity;\n            $(`.prezzo-item-${rowUuid}`).html(formatNum((nextQuantity) * p.price1));\n\n            UpdateProductIntoCurrentOrder(nextQuantity, rowUuid);\n            updateCartTotals();\n          });\n\n          $(`.input-number-decrement-${p_.rowUuid}`).click(function() {\n            const rowUuid = $(this).data('row-uuid');\n            const $input = $(`.input-number-${rowUuid}`);\n            const currentQuantity = parseInt($input.val(), 10);\n\n            let nextQuantity = currentQuantity - 1;\n            if (nextQuantity < 0) {\n              nextQuantity = 0;\n            }\n            $input.val(nextQuantity);\n            $(`.prezzo-item-${rowUuid}`).html(formatNum(nextQuantity * p.price1));\n\n            if (nextQuantity === 0) {\n                $(`.carrello-row-${rowUuid}`).remove();\n            }\n\n            UpdateProductIntoCurrentOrder(nextQuantity, rowUuid);\n            updateCartTotals();\n          })\n        }\n      } else {\n        cleanCurrentOrder();\n      }\n    });\n  }\n  updateCartTotals();\n}\n\nfunction getClosedTimeslots () {\n  mkCall(\n    'POST',\n    { action: 'getClosedTimeslots', data: '--' },\n    res => {\n      window.closedTimeslots = new Set(res);\n      setOrari();\n    },\n    res => {\n      // TODO: add this show message modal\n      showMessage(messageError);\n    }\n  );\n}\n\nfunction setOrari () {\n  /*\n  const d_ = new Date();\n  const diff = 15; // minutes\n  const d = new Date(d_.getTime() + diff * 60000);\n  const h = d.getUTCHours();\n  const m = d.getUTCMinutes();\n  const o = d.getTimezoneOffset();\n  const h_ = h - Math.round(o / 60);\n  const t = `${h_}:${m}`;\n  */\n  const cells = $('.orario-btn');\n  cells.each(function () {\n    const cell = $(this);\n    const text = cell.text();\n    const isEnabled = (!window.closedTimeslots.has(text));// && (text > t);\n    cell.attr('disabled', !isEnabled);\n    cell.on('click', () => {\n      cells.each(function () {\n        $(this).attr('class', 'button orario-btn')\n          .attr('bselected', false);\n      });\n      cell.attr('class', 'button orario-btn success')\n        .attr('bselected', true);\n      window.localStorage.timeSlot = text;\n    });\n  });\n  if (window.localStorage.timeSlot) {\n    $(`button:contains(\"${window.localStorage.timeSlot}\")`).click();\n  }\n}\n\nfunction getCotturaId (p) {\n  const cot = p.variations.filter(i => i.name === 'Cottura')[0];\n  if (cot) {\n    return cot.id;\n  }\n  return undefined;\n}\n"],"names":["bana","mkCall","formatNum","ORIGIN","itemsCarrelloTable","require","uuidv4","v4","$","document","ready","action","data","res","mkInterface","showMessage","messageError","r","d","JSON","parse","prods","items","results","filter","i","option1_value","channels","map","j","channel_id","includes","on_sale","mkMenu","off","on","window","localStorage","currentClient","location","href","foundation","allProducts","parent","children","html","forEach","p","quantity","secDiv","length","mkCell","mkModal","console","log","name","hide","checkStoredOrder","getClosedTimeslots","getImgRoot","imgRoot","IMG_ROOT","mkCellSmall","cell","pid","mkPid","pp","mkDiv","imgName","M","src","onerror","alt","tDiv","price1","description","type","css","mkCellMedium","cs","allergens","join","cleanCurrentOrder","productsOrdered","currentOrder","rowUuid","splice","stringify","updateCartTotals","totalPrice","product","show","prop","totalQuantity","addProductIntoCurrentOrder","product_id","product_cotturaV","product_quantity","row_uuid","prod","id","cotturaV","existingOrder","newCurrentOrder","push","isNewProductPresentIntoOrder","productOrdered","UpdateProductIntoCurrentOrder","nextQuantity","resetModalsInput","val","each","closest","attr","find","addToCart","noteText","price","cotturaI","cotturaId","variation_id","template","append","click","$input","currentQuantity","parseInt","remove","modal","closeBtn","style","modalDiv","maxlength","placeholder","hasNote","cottura","getCotturaId","v","hasCottura","vv","value","footer","footerDiv","parents","placePrice","width","min","max","btnPrice","selectedQuantity","currentPrice","text","cottura_id","Foundation","Reveal","class_","parent_","el","attrs","e","class","appendTo","replaceAll","variations","cot","variation_values","storage","p_","closedTimeslots","Set","setOrari","cells","isEnabled","has","timeSlot","undefined"],"sourceRoot":""}