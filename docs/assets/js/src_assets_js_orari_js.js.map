{"version":3,"file":"src_assets_js_orari_js.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAkC;AAElCC,CAAC,CAACC,QAAQ,CAAC,CAACC,KAAK,CAAC,YAAM;EACtBC,kBAAkB,EAAE;AACtB,CAAC,CAAC;AAEF,SAASC,QAAQ,GAAI;EACnB,IAAMC,KAAK,GAAGL,CAAC,CAAC,aAAa,CAAC;EAC9B,IAAMM,IAAI,GAAGN,CAAC,CAAC,YAAY,CAAC;EAC5BK,KAAK,CAACE,IAAI,CAAC,YAAY;IACrB,IAAMC,IAAI,GAAGR,CAAC,CAAC,IAAI,CAAC;IACpBQ,IAAI,CAACC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC;IAC5B,IAAMC,IAAI,GAAGF,IAAI,CAACE,IAAI,EAAE;IACxB,IAAIC,SAAS,GAAG,CAACC,MAAM,CAACC,eAAe,CAACC,GAAG,CAACJ,IAAI,CAAC;IACjD,IAAIC,SAAS,EAAE;MACbH,IAAI,CAACC,IAAI,CAAC,OAAO,EAAE,2BAA2B,CAAC;IACjD,CAAC,MAAM;MACLD,IAAI,CAACC,IAAI,CAAC,OAAO,EAAE,6BAA6B,CAAC;IACnD;IACAD,IAAI,CAACO,EAAE,CAAC,OAAO,EAAE,YAAM;MACrBJ,SAAS,GAAG,CAACA,SAAS;MACtB,IAAIA,SAAS,EAAE;QACbH,IAAI,CAACC,IAAI,CAAC,OAAO,EAAE,2BAA2B,CAAC;QAC/CH,IAAI,CAACU,IAAI,WAAIN,IAAI,aAAU;QAC3BE,MAAM,CAACC,eAAe,CAACI,MAAM,CAACP,IAAI,CAAC;MACrC,CAAC,MAAM;QACLF,IAAI,CAACC,IAAI,CAAC,OAAO,EAAE,6BAA6B,CAAC;QACjDH,IAAI,CAACU,IAAI,WAAIN,IAAI,aAAU;QAC3BE,MAAM,CAACC,eAAe,CAACK,GAAG,CAACR,IAAI,CAAC;MAClC;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EACFV,CAAC,CAAC,WAAW,EAAE;IAAEmB,IAAI,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAqB,CAAC,CAAC,CAC5DJ,IAAI,CAAC,gBAAgB,CAAC,CACtBK,QAAQ,CAACrB,CAAC,CAAC,cAAc,CAAC,CAAC,CAC3Be,EAAE,CAAC,OAAO,EAAE,YAAM;IACjBT,IAAI,CAACU,IAAI,CAAC,oDAAoD,GAAG,WAAIM,KAAK,qBAAIV,MAAM,CAACC,eAAe,GAAEU,IAAI,CAAC,IAAI,CAAC,CAAC;IACjHxB,8CAAM,CACJ,MAAM,EACN;MAAEyB,MAAM,EAAE,oBAAoB;MAAEC,IAAI,aAAMH,KAAK,qBAAIV,MAAM,CAACC,eAAe;IAAE,CAAC,EAC5E,UAAAa,GAAG,EAAI;MACLd,MAAM,CAACe,KAAK,CAAC,0BAA0B,CAAC;IAC1C,CAAC,EACD,UAAAD,GAAG,EAAI;MACL;MACAC,KAAK,CAAC,kHAAkH,CAAC;IAC3H,CAAC,CACF;EACH,CAAC,CAAC;AACN;AAEA,SAASxB,kBAAkB,GAAI;EAC7BJ,8CAAM,CACJ,MAAM,EACN;IAAEyB,MAAM,EAAE,oBAAoB;IAAEC,IAAI,EAAE;EAAK,CAAC,EAC5C,UAAAC,GAAG,EAAI;IACLd,MAAM,CAACC,eAAe,GAAG,IAAIe,GAAG,CAACF,GAAG,CAAC;IACrCtB,QAAQ,EAAE;EACZ,CAAC,EACD,UAAAsB,GAAG,EAAI;IACL;IACAG,WAAW,CAACC,YAAY,CAAC;EAC3B,CAAC,CACF;AACH","sources":["webpack://foundation-zurb-template/./src/assets/js/orari.js"],"sourcesContent":["import {  mkCall } from './utils';\n\n$(document).ready(() => {\n  getClosedTimeslots();\n});\n\nfunction setOrari () {\n  const cells = $('.orario-btn');\n  const info = $('#last-time');\n  cells.each(function () {\n    const cell = $(this);\n    cell.attr('disabled', false);\n    const text = cell.text();\n    let isEnabled = !window.closedTimeslots.has(text)\n    if (isEnabled) {\n      cell.attr('class', 'button orario-btn primary')\n    } else {\n      cell.attr('class', 'button orario-btn secondary')\n    }\n    cell.on('click', () => {\n      isEnabled = !isEnabled;\n      if (isEnabled) {\n        cell.attr('class', 'button orario-btn primary')\n        info.html(`${text} aperto`);\n        window.closedTimeslots.delete(text);\n      } else {\n        cell.attr('class', 'button orario-btn secondary')\n        info.html(`${text} chiuso`);\n        window.closedTimeslots.add(text);\n      }\n    });\n  });\n  $('<button/>', { type: 'button', class: 'button extra-space' })\n    .html('Chiudi Asporti')\n    .appendTo($('#consolidate'))\n    .on('click', () => {\n      info.html('In questi orari gli asporti non sono disponibili: ' + new Array(...window.closedTimeslots).join(', '));\n      mkCall(\n        'POST',\n        { action: 'setClosedTimeslots', data: new Array(...window.closedTimeslots) },\n        res => {\n          window.alert('Orari Asporti Aggiornati');\n        },\n        res => {\n          // TODO: add this show message modal\n          alert('Qualcosa Ã¨ andato storto. Contattaci al numero  071 8853384 oppure inviaci una email a info@beerstrot.it. Grazie');\n        }\n      );\n    });\n}\n\nfunction getClosedTimeslots () {\n  mkCall(\n    'POST',\n    { action: 'getClosedTimeslots', data: '--' },\n    res => {\n      window.closedTimeslots = new Set(res);\n      setOrari();\n    },\n    res => {\n      // TODO: add this show message modal\n      showMessage(messageError);\n    }\n  );\n}\n"],"names":["mkCall","$","document","ready","getClosedTimeslots","setOrari","cells","info","each","cell","attr","text","isEnabled","window","closedTimeslots","has","on","html","delete","add","type","class","appendTo","Array","join","action","data","res","alert","Set","showMessage","messageError"],"sourceRoot":""}